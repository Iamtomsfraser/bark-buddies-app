
<div class="banner-img" >
    <div class="container">
      <div class="banner-text">
        <h3>Events</h3>
          <h5 class="text-center">Discover more!</h5>
            <%= form_with url: events_path, method: :get, class: "d-flex justify-content-center" do  %>
            <%= text_field_tag :query,
                    params[:query],
                    class: "form-control input-search",
                    placeholder: "🔍 Explore..",
                    id: "search-bar"
                  %>
        </div>
      </div>
  <% end %>
</div>

<div class="container-event">
  <h3 style="margin-left: 10px; margin-top: 20px">Featured events</h3>
  <% @events.each do |event| %>
    <div class="card-event">
      <%= image_tag event.photo.url, class: "event-image" %>
      <a data-bs-toggle="modal" data-bs-target="#staticBackdrop<%= event.id %>">
        <div class="card-event-info">
          <h5><%= event.title %></h5>
            <div class="event-details">
              <p><small><i class="fa-solid fa-location-dot"></i> <%= event.location %></small></p>
              <p>🗓️<span><%= event.date.strftime("%d %B %Y")%></span></p>
            </div>
          </div>
      </a>
    </div>
</div>

    <!-- Modal -->
  <div class="modal fade" id="staticBackdrop<%= event.id %>" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel<%= event.id %>" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="staticBackdropLabel"><%= event.title %> 🎉</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" data-controller="attend">
              <%= image_tag event.photo.url, class: "modal-image" %>
            <div class="event-details" style= "margin-left: 8px; margin-right: 8px; margin-bottom: 8px;">
              <p class="fw-bold">Event Details:</p>
              <p><%= event.description %></p>
            </div>
              <div class="event-info" style= "margin-left: 8px; margin-right: 8px; margin-bottom: 8px;">
                  <div class="d-flex justify-content-between" style ="width: 300px;">
                <div>
                  <p class="fw-bold">Location:</p>
                    <p><small><i class="fa-solid fa-location-dot"></i> <%= event.location %></small></p>
                </div>
              <div>
                <p class="fw-bold">Date:</p>
                <p><span><%= event.date.strftime("%d %B %Y")%></span></p>
              </div>
            </div>
          </div>
            <div class="postion-right" style= "margin-left: 8px; margin-right: 8px; margin-bottom: 8px;">
              <button class="attend-button" data-action="click->attend#attend" data-target="attend.button">Attend</button>
            </div>
        </div>
      </div>
    </div>
  </div>
  <% end %>
