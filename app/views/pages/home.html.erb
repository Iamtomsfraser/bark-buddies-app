  <div class="profiles-container">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h2>Buddies near you</h2>
      <%=  link_to "See more", users_path, class: "underlined" %>
    </div>
    <div class="d-flex scroll">
      <% @users.reject { |user| user == current_user }.take(10).each do |user| %>
        <% user.dogs.each do |dog| %>
          <%=  link_to user_path(user) do %>
            <% first_photo = dog.photos.first %>
            <div class="profile-card">
              <div class= "card-image" style="background-image: url('<%= image_path first_photo.url %>')">
                <%= image_tag user.photo.url, height: 80, width: 80, class: "user-avatar", style: "border-radius: 50%;" %>
              </div>
              <div class="mx-2 my-1 d-flex flex-column justify-content-center">
                <h5><%= user.name %> & <%= dog.name %> </h5>
                  <p><%= dog.breed %></p>
                  <p><small><%= dog.gender %>, <%= dog.age %> years old</small></p>
                <p><small><i class="fa-solid fa-location-dot"></i> <%= user.location %></small></p>
              </div>
            </div>
          <% end %>
        <% end %>
      <% end %>
    </div>
  </div>

  <div class="suggested-community-container">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h2>Suggested communities</h2>
      <%=  link_to "See more", communities_path, class:"orange underlined" %>
    </div>
    <div class="d-flex scroll" style="gap: 8px;">
      <% @communities.all.each do |community| %>
          <div class="d-flex flex-column">
            <%= link_to community_path(community) do %>
              <div class= "d-flex card-community text-center justify-content-center align-items-center" style="background-image: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url('<%= image_path community.photo.url if community.photo.try(:url).present? %>')">
              <h2><%= community.name %></h2>
            <% end %>
            </div>
          </div>
      <% end %>
    </div>
  </div>

  <div class="upcoming-events-container">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h2>Upcoming events</h2>
      <%=  link_to "See more", events_path, class:"orange underlined" %>
    </div>
    <div class="">
      <% @events.first(4).each do |event| %>
        <a data-bs-toggle="modal" data-bs-target="#staticBackdrop<%= event.id %>">
          <div class="events-cards">
            <div class="">
              <time datetime="20-April-2024" class="icon">
                <% if event.date.to_s.split("-")[1] == "03"  %>
                  <strong>APR</strong>
                <% elsif event.date.to_s.split("-")[1] == "04" %>
                  <strong>MAY</strong>
                <% else %>
                  <strong>JUN</strong>
                <% end %>
                <span><%= event.date.to_s.split("-")[2] %></span>
              </time>
            </div>
            <div class="mx-2">
              <h5><%= event.title %></h5>
                <p><small><i class="fa-solid fa-location-dot"></i> <%= event.location %></small></p>
            </div>
          </div>
        </a>
        <!-- Modal -->
        <%= render "events/event_modal", event: event %>
      <% end %>
    </div>
  </div>
